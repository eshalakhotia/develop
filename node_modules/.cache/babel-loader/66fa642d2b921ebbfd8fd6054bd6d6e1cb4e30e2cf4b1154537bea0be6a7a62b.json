{"ast":null,"code":"import _toConsumableArray from\"/Users/eshalakhotia/develop/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/eshalakhotia/develop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./App.css';import Sizes from'./components/Sizes';import Filtering from'./components/Filtering';import ShoppingCart from'./components/ShoppingCart';import filterList from'./components/filterList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedSizes=_useState4[0],setSelectedSizes=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cart=_useState6[0],setCart=_useState6[1];useEffect(function(){setProducts(filterList([],null));if(JSON.parse(localStorage.getItem(\"cart\"))){setCart(JSON.parse(localStorage.getItem(\"cart\")));}},[]);var setSize=function setSize(size){var sizes=_toConsumableArray(selectedSizes);if(sizes.includes(size)){var index=sizes.indexOf(size);sizes.splice(index,1);}else{sizes.push(size);}setSelectedSizes(sizes);setProducts(filterList(sizes,'size'));};var sortProducts=function sortProducts(method){var array=products;if(method===\"Lowest to Highest\"){array.sort(function(a,b){return a.price-b.price;});}else if(method===\"Highest to Lowest\"){array.sort(function(a,b){return b.price-a.price;});}setProducts(array);};var addToCart=function addToCart(item){var productList=_toConsumableArray(cart);if(!productList.includes(item)){productList.push(item);}var index=productList.indexOf(item);productList[index].quantity++;setCart(productList);localStorage.setItem(\"cart\",JSON.stringify(productList));};var changeQuantity=function changeQuantity(item,e){var productList=_toConsumableArray(cart);var index=productList.indexOf(item);if(e==='+'){productList[index].quantity++;}else{if(productList[index].quantity>1){productList[index].quantity--;}else{productList.splice(index,1);}}setCart(productList);localStorage.setItem(\"cart\",JSON.stringify(productList));};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Sizes,{selectedSizes:selectedSizes,setSize:setSize}),/*#__PURE__*/_jsx(Filtering,{products:products,sortProducts:sortProducts,addToCart:addToCart}),/*#__PURE__*/_jsx(ShoppingCart,{products:cart,changeQuantity:changeQuantity})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Sizes","Filtering","ShoppingCart","filterList","App","products","setProducts","selectedSizes","setSelectedSizes","cart","setCart","JSON","parse","localStorage","getItem","setSize","size","sizes","includes","index","indexOf","splice","push","sortProducts","method","array","sort","a","b","price","addToCart","item","productList","quantity","setItem","stringify","changeQuantity","e"],"sources":["/Users/eshalakhotia/develop/src/App.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\n\nimport './App.css';\nimport Sizes from './components/Sizes';\nimport Filtering from './components/Filtering';\nimport ShoppingCart from './components/ShoppingCart';\nimport filterList from './components/filterList'\n\nfunction App() {\n\n  const [products, setProducts] = useState([]);\n  const [selectedSizes, setSelectedSizes] = useState([]);\n  const [cart, setCart] = useState([]);\n\n  useEffect(() => {\n    setProducts(filterList([], null));\n    if(JSON.parse(localStorage.getItem(\"cart\"))) {\n      setCart(JSON.parse(localStorage.getItem(\"cart\")));\n    }\n  }, [])\n\n  const setSize = (size) => {\n    const sizes = [...selectedSizes];\n    \n    if(sizes.includes(size)) {\n      const index = sizes.indexOf(size);\n      sizes.splice(index, 1);\n    }\n    else {\n      sizes.push(size);\n    }\n    setSelectedSizes(sizes);\n    setProducts(filterList(sizes, 'size'));\n  }\n\n  const sortProducts = (method) => {\n    const array = products;\n\n    if(method === \"Lowest to Highest\") {\n        array.sort(function(a, b){\n          return a.price-b.price\n      })\n    }\n    else if(method === \"Highest to Lowest\") {\n        array.sort(function(a, b){\n          return b.price-a.price\n      })\n    }\n    setProducts(array);\n  }\n\n  const addToCart = (item) => {\n    const productList = [...cart];\n    if(!productList.includes(item)) {\n      productList.push(item);\n    }\n    const index = productList.indexOf(item);\n    productList[index].quantity++;\n    setCart(productList);\n    localStorage.setItem(\"cart\", JSON.stringify(productList));\n  }\n\n  const changeQuantity = (item, e) => {\n    const productList = [...cart];\n    const index = productList.indexOf(item);\n    if(e === '+') {\n      productList[index].quantity++;\n    }\n    else {\n      if(productList[index].quantity > 1) {\n        productList[index].quantity--;\n      }\n      else {\n        productList.splice(index, 1);\n      }\n    } \n    setCart(productList);\n    localStorage.setItem(\"cart\", JSON.stringify(productList));\n  }\n  \n  return (\n    <div className=\"App\">\n      <Sizes selectedSizes={selectedSizes} setSize={setSize} />\n      <Filtering products={products} sortProducts={sortProducts} addToCart={addToCart} />\n      <ShoppingCart products={cart} changeQuantity={changeQuantity} />\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"0OAAA,MAAOA,MAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAEhD,MAAO,WAAW,CAClB,MAAOC,MAAK,KAAM,oBAAoB,CACtC,MAAOC,UAAS,KAAM,wBAAwB,CAC9C,MAAOC,aAAY,KAAM,2BAA2B,CACpD,MAAOC,WAAU,KAAM,yBAAyB,yFAEhD,QAASC,IAAG,EAAG,CAEb,cAAgCN,QAAQ,CAAC,EAAE,CAAC,wCAArCO,QAAQ,eAAEC,WAAW,eAC5B,eAA0CR,QAAQ,CAAC,EAAE,CAAC,yCAA/CS,aAAa,eAAEC,gBAAgB,eACtC,eAAwBV,QAAQ,CAAC,EAAE,CAAC,yCAA7BW,IAAI,eAAEC,OAAO,eAEpBX,SAAS,CAAC,UAAM,CACdO,WAAW,CAACH,UAAU,CAAC,EAAE,CAAE,IAAI,CAAC,CAAC,CACjC,GAAGQ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAE,CAC3CJ,OAAO,CAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CACnD,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,IAAI,CAAK,CACxB,GAAMC,MAAK,oBAAOV,aAAa,CAAC,CAEhC,GAAGU,KAAK,CAACC,QAAQ,CAACF,IAAI,CAAC,CAAE,CACvB,GAAMG,MAAK,CAAGF,KAAK,CAACG,OAAO,CAACJ,IAAI,CAAC,CACjCC,KAAK,CAACI,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,CACxB,CAAC,IACI,CACHF,KAAK,CAACK,IAAI,CAACN,IAAI,CAAC,CAClB,CACAR,gBAAgB,CAACS,KAAK,CAAC,CACvBX,WAAW,CAACH,UAAU,CAACc,KAAK,CAAE,MAAM,CAAC,CAAC,CACxC,CAAC,CAED,GAAMM,aAAY,CAAG,QAAfA,aAAY,CAAIC,MAAM,CAAK,CAC/B,GAAMC,MAAK,CAAGpB,QAAQ,CAEtB,GAAGmB,MAAM,GAAK,mBAAmB,CAAE,CAC/BC,KAAK,CAACC,IAAI,CAAC,SAASC,CAAC,CAAEC,CAAC,CAAC,CACvB,MAAOD,EAAC,CAACE,KAAK,CAACD,CAAC,CAACC,KAAK,CAC1B,CAAC,CAAC,CACJ,CAAC,IACI,IAAGL,MAAM,GAAK,mBAAmB,CAAE,CACpCC,KAAK,CAACC,IAAI,CAAC,SAASC,CAAC,CAAEC,CAAC,CAAC,CACvB,MAAOA,EAAC,CAACC,KAAK,CAACF,CAAC,CAACE,KAAK,CAC1B,CAAC,CAAC,CACJ,CACAvB,WAAW,CAACmB,KAAK,CAAC,CACpB,CAAC,CAED,GAAMK,UAAS,CAAG,QAAZA,UAAS,CAAIC,IAAI,CAAK,CAC1B,GAAMC,YAAW,oBAAOvB,IAAI,CAAC,CAC7B,GAAG,CAACuB,WAAW,CAACd,QAAQ,CAACa,IAAI,CAAC,CAAE,CAC9BC,WAAW,CAACV,IAAI,CAACS,IAAI,CAAC,CACxB,CACA,GAAMZ,MAAK,CAAGa,WAAW,CAACZ,OAAO,CAACW,IAAI,CAAC,CACvCC,WAAW,CAACb,KAAK,CAAC,CAACc,QAAQ,EAAE,CAC7BvB,OAAO,CAACsB,WAAW,CAAC,CACpBnB,YAAY,CAACqB,OAAO,CAAC,MAAM,CAAEvB,IAAI,CAACwB,SAAS,CAACH,WAAW,CAAC,CAAC,CAC3D,CAAC,CAED,GAAMI,eAAc,CAAG,QAAjBA,eAAc,CAAIL,IAAI,CAAEM,CAAC,CAAK,CAClC,GAAML,YAAW,oBAAOvB,IAAI,CAAC,CAC7B,GAAMU,MAAK,CAAGa,WAAW,CAACZ,OAAO,CAACW,IAAI,CAAC,CACvC,GAAGM,CAAC,GAAK,GAAG,CAAE,CACZL,WAAW,CAACb,KAAK,CAAC,CAACc,QAAQ,EAAE,CAC/B,CAAC,IACI,CACH,GAAGD,WAAW,CAACb,KAAK,CAAC,CAACc,QAAQ,CAAG,CAAC,CAAE,CAClCD,WAAW,CAACb,KAAK,CAAC,CAACc,QAAQ,EAAE,CAC/B,CAAC,IACI,CACHD,WAAW,CAACX,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,CAC9B,CACF,CACAT,OAAO,CAACsB,WAAW,CAAC,CACpBnB,YAAY,CAACqB,OAAO,CAAC,MAAM,CAAEvB,IAAI,CAACwB,SAAS,CAACH,WAAW,CAAC,CAAC,CAC3D,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,KAAK,wBAClB,KAAC,KAAK,EAAC,aAAa,CAAEzB,aAAc,CAAC,OAAO,CAAEQ,OAAQ,EAAG,cACzD,KAAC,SAAS,EAAC,QAAQ,CAAEV,QAAS,CAAC,YAAY,CAAEkB,YAAa,CAAC,SAAS,CAAEO,SAAU,EAAG,cACnF,KAAC,YAAY,EAAC,QAAQ,CAAErB,IAAK,CAAC,cAAc,CAAE2B,cAAe,EAAG,GAC5D,CAEV,CAEA,cAAehC,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}